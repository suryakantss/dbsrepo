import{a as u,r,j as e,L as j,O as f}from"./index-C0SKKxCu.js";let h="http://localhost:8080/products";function b(){return u.get(h)}function p(s){return u.post(h,s)}function y(s){return u.delete(`${h}/${s}`)}const i={getProducts:b,addProduct:p,delProduct:y};function g(){let[s,o]=r.useState([]),l=r.useRef(),c=r.useRef(),d=r.useRef();function n(){i.getProducts().then(t=>{o(t.data)}).catch(t=>{alert(t.message)})}r.useEffect(()=>{n()},[]);function m(){let t={id:l.current.value,name:c.current.value,price:d.current.value};i.addProduct(t).then(a=>{alert(JSON.stringify(a.data)),l.current.value="",c.current.value="",d.current.value="",n()}).catch(a=>{alert(a.message)})}function x(t){i.delProduct(t).then(a=>{alert(JSON.stringify(a.data)),n()}).catch(a=>{alert(a.message)})}return e.jsxs("div",{children:[e.jsxs("table",{width:"800px",className:"mytable",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"mytable",children:"Id"}),e.jsx("th",{className:"mytable",children:"Name"}),e.jsx("th",{className:"mytable",children:"Price"})]})}),e.jsxs("tbody",{children:[s.map(t=>e.jsxs("tr",{children:[e.jsxs("td",{className:"mytable",children:[e.jsx(j,{to:`productdetails/${t.id}`,target:"_blank",children:t.id}),e.jsx("button",{onClick:()=>x(t.id),children:"X"})]}),e.jsx("td",{className:"mytable",children:t.name}),e.jsx("td",{className:"mytable",children:t.price})]},t.id)),e.jsxs("tr",{className:"mytable",children:[e.jsx("th",{className:"mytable",children:e.jsx("input",{ref:l})}),e.jsx("th",{className:"mytable",children:e.jsx("input",{ref:c})}),e.jsx("th",{className:"mytable",children:e.jsx("input",{ref:d})})]}),e.jsx("tr",{children:e.jsx("th",{colSpan:"3",children:e.jsx("button",{onClick:m,children:"Add"})})})]})]}),e.jsx("div",{children:e.jsx(f,{})})]})}export{g as default};
